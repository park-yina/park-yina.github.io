{% assign author = page.author | default: page.authors[0] | default: site.author %}
{% assign author = site.data.authors[author] | default: author %}

<div itemscope itemtype="https://schema.org/Person" class="h-card">

  {% if author.avatar %}
    <div class="author__avatar">
      <a href="{{ author.home | default: '/' | absolute_url }}">
        <img src="{{ author.avatar | relative_url }}" alt="{{ author.name }}" itemprop="image" class="u-photo">
      </a>
    </div>
  {% endif %}

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="{{ author.home | default: '/' | absolute_url }}" itemprop="url">{{ author.name }}</a>
    </h3>
    {% if author.bio %}
      <div class="author__bio p-note" itemprop="description">
        {{ author.bio | markdownify }}
      </div>
    {% endif %}
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">{{ site.data.ui-text[site.locale].follow_label | remove: ":" | default: "Follow" }}</button>
    <ul class="author__urls social-icons">
      {% if author.location %}
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">{{ author.location }}</span>
        </li>
      {% endif %}

      {% if author.links %}
        {% for link in author.links %}
          {% if link.label and link.url %}
            <li><a href="{{ link.url }}" rel="nofollow noopener noreferrer me"{% if link.url contains 'http' %} itemprop="sameAs"{% endif %}><i class="{{ link.icon | default: 'fas fa-link' }}" aria-hidden="true"></i><span class="label">{{ link.label }}</span></a></li>
          {% endif %}
        {% endfor %}
      {% endif %}

      {% if author.uri %}
        <li>
          <a href="{{ author.uri }}" itemprop="url" rel="me">
            <i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">{{ site.data.ui-text[site.locale].website_label | default: "Website" }}</span>
          </a>
        </li>
      {% endif %}

      {% if author.email %}
        <li>
          <a href="mailto:{{ author.email }}" rel="me" class="u-email">
            <meta itemprop="email" content="{{ author.email }}" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">{{ site.data.ui-text[site.locale].email_label | default: "Email" }}</span>
          </a>
        </li>
      {% endif %}

      {% if author.keybase %}
        <li>
          <a href="https://keybase.io/{{ author.keybase }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-keybase" aria-hidden="true"></i><span class="label">Keybase</span>
          </a>
        </li>
      {% endif %}

      {% if author.twitter %}
        <li>
          <a href="https://twitter.com/{{ author.twitter }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span>
          </a>
        </li>
      {% endif %}

      {% if author.facebook %}
        <li>
          <a href="https://www.facebook.com/{{ author.facebook }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i><span class="label">Facebook</span>
          </a>
        </li>
      {% endif %}

      {% if author.linkedin %}
        <li>
          <a href="https://www.linkedin.com/in/{{ author.linkedin }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span>
          </a>
        </li>
      {% endif %}

      {% if author.xing %}
        <li>
          <a href="https://www.xing.com/profile/{{ author.xing }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-xing-square" aria-hidden="true"></i><span class="label">XING</span>
          </a>
        </li>
      {% endif %}

      {% if author.instagram %}
        <li>
          <a href="https://instagram.com/{{ author.instagram }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span>
          </a>
        </li>
      {% endif %}

      {% if author.tumblr %}
        <li>
          <a href="https://{{ author.tumblr }}.tumblr.com" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-tumblr-square" aria-hidden="true"></i><span class="label">Tumblr</span>
          </a>
        </li>
      {% endif %}

      {% if author.bitbucket %}
        <li>
          <a href="https://bitbucket.org/{{ author.bitbucket }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-bitbucket" aria-hidden="true"></i><span class="label">Bitbucket</span>
          </a>
        </li>
      {% endif %}

      {% if author.github %}
        <li>
          <a href="https://github.com/{{ author.github }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span>
          </a>
        </li>
      {% endif %}

      {% if author.gitlab %}
        <li>
          <a href="https://gitlab.com/{{ author.gitlab }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-gitlab" aria-hidden="true"></i><span class="label">GitLab</span>
          </a>
        </li>
      {% endif %}

      {% if author.stackoverflow %}
        <li>
          <a href="https://stackoverflow.com/users/{{ author.stackoverflow }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-stack-overflow" aria-hidden="true"></i><span class="label">Stack Overflow</span>
          </a>
        </li>
      {% endif %}

      {% if author.lastfm %}
        <li>
          <a href="https://last.fm/user/{{ author.lastfm }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-lastfm-square" aria-hidden="true"></i><span class="label">Last.fm</span>
          </a>
        </li>
      {% endif %}

      {% if author.dribbble %}
        <li>
          <a href="https://dribbble.com/{{ author.dribbble }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-dribbble" aria-hidden="true"></i><span class="label">Dribbble</span>
          </a>
        </li>
      {% endif %}

      {% if author.pinterest %}
        <li>
          <a href="https://www.pinterest.com/{{ author.pinterest }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-pinterest" aria-hidden="true"></i><span class="label">Pinterest</span>
          </a>
        </li>
      {% endif %}

      {% if author.foursquare %}
        <li>
          <a href="https://foursquare.com/{{ author.foursquare }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-foursquare" aria-hidden="true"></i><span class="label">Foursquare</span>
          </a>
        </li>
      {% endif %}

      {% if author.steam %}
        <li>
          <a href="https://steamcommunity.com/id/{{ author.steam }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-steam" aria-hidden="true"></i><span class="label">Steam</span>
          </a>
        </li>
      {% endif %}

      {% if author.youtube %}
        {% if author.youtube contains "://" %}
          <li>
            <a href="{{ author.youtube }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
              <i class="fab fa-fw fa-youtube" aria-hidden="true"></i><span class="label">YouTube</span>
            </a>
          </li>
        {% elsif author.youtube %}
          <li>
            <a href="https://www.youtube.com/user/{{ author.youtube }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
              <i class="fab fa-fw fa-youtube" aria-hidden="true"></i><span class="label">YouTube</span>
            </a>
          </li>
        {% endif %}
      {% endif %}

      {% if author.soundcloud %}
        <li>
          <a href="https://soundcloud.com/{{ author.soundcloud }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-soundcloud" aria-hidden="true"></i><span class="label">SoundCloud</span>
          </a>
        </li>
      {% endif %}

      {% if author.weibo %}
        <li>
          <a href="https://www.weibo.com/{{ author.weibo }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-weibo" aria-hidden="true"></i><span class="label">Weibo</span>
          </a>
        </li>
      {% endif %}

      {% if author.flickr %}
        <li>
          <a href="https://www.flickr.com/{{ author.flickr }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-flickr" aria-hidden="true"></i><span class="label">Flickr</span>
          </a>
        </li>
      {% endif %}

      {% if author.codepen %}
        <li>
          <a href="https://codepen.io/{{ author.codepen }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-codepen" aria-hidden="true"></i><span class="label">CodePen</span>
          </a>
        </li>
      {% endif %}

      {% if author.vine %}
        <li>
          <a href="https://vine.co/u/{{ author.vine }}" itemprop="sameAs" rel="nofollow noopener noreferrer me">
            <i class="fab fa-fw fa-vine" aria-hidden="true"></i><span class="label">{{ site.data.ui-text[site.locale].email_label | default: "Email" }}</span>
          </a>
        </li>
      {% endif %}

      {% include author-profile-custom-links.html %}
      <!-- Categories -->
<nav class="nav__list">
  <ul class="nav__items" id="category_tag_menu">
      <li>
          <span class="nav__sub-title"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="20" height="20" viewBox="0,0,256,256">
            <defs><linearGradient x1="14.296" y1="42.833" x2="14.296" y2="53.022" gradientUnits="userSpaceOnUse" id="color-1_44005_gr1"><stop offset="0" stop-color="#95facc"></stop><stop offset="1" stop-color="#6ec8ff"></stop></linearGradient><linearGradient x1="32" y1="8" x2="32" y2="55.938" gradientUnits="userSpaceOnUse" id="color-2_44005_gr2"><stop offset="0" stop-color="#2af598"></stop><stop offset="1" stop-color="#009efd"></stop></linearGradient><linearGradient x1="33" y1="8" x2="33" y2="55.938" gradientUnits="userSpaceOnUse" id="color-3_44005_gr3"><stop offset="0" stop-color="#2af598"></stop><stop offset="1" stop-color="#009efd"></stop></linearGradient><linearGradient x1="49" y1="8" x2="49" y2="55.938" gradientUnits="userSpaceOnUse" id="color-4_44005_gr4"><stop offset="0" stop-color="#2af598"></stop><stop offset="1" stop-color="#009efd"></stop></linearGradient><linearGradient x1="49" y1="8" x2="49" y2="55.938" gradientUnits="userSpaceOnUse" id="color-5_44005_gr5"><stop offset="0" stop-color="#2af598"></stop><stop offset="1" stop-color="#009efd"></stop></linearGradient><linearGradient x1="32" y1="8" x2="32" y2="55.938" gradientUnits="userSpaceOnUse" id="color-6_44005_gr6"><stop offset="0" stop-color="#2af598"></stop><stop offset="1" stop-color="#009efd"></stop></linearGradient><linearGradient x1="32" y1="8" x2="32" y2="55.938" gradientUnits="userSpaceOnUse" id="color-7_44005_gr7"><stop offset="0" stop-color="#2af598"></stop><stop offset="1" stop-color="#009efd"></stop></linearGradient></defs><g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(4,4)"><path d="M11.702,43.702l6.596,6.596c0.628,0.628 0.183,1.702 -0.705,1.702h-5.593c-1.105,0 -2,-0.895 -2,-2v-5.593c0,-0.888 1.074,-1.333 1.702,-0.705z" fill="url(#color-1_44005_gr1)"></path><path d="M55,20h-1v-6c0,-1.654 -1.346,-3 -3,-3v-1c0,-1.103 -0.897,-2 -2,-2h-34c-1.103,0 -2,0.897 -2,2v1c-1.654,0 -3,1.346 -3,3v6h-1c-1.654,0 -3,1.346 -3,3v6v1v21c0,2.757 2.243,5 5,5h42c2.757,0 5,-2.243 5,-5v-20v-2v-6c0,-1.654 -1.346,-3 -3,-3zM55,22c0.552,0 1,0.448 1,1v2.026c-0.584,-0.442 -1.257,-0.773 -2,-0.925v-2.101zM15,10h34v1h-34zM13,13h38c0.552,0 1,0.448 1,1v10h-9.929c-1.007,0 -1.94,0.5 -2.497,1.337l-2.813,4.218c-0.186,0.278 -0.496,0.445 -0.832,0.445h-7.857c-0.336,0 -0.646,-0.167 -0.833,-0.446l-2.813,-4.216c-0.557,-0.838 -1.49,-1.338 -2.497,-1.338h-9.929v-10c0,-0.552 0.448,-1 1,-1zM9,22h1v2.101c-0.743,0.152 -1.416,0.482 -2,0.925v-2.026c0,-0.552 0.448,-1 1,-1zM56,51c0,1.654 -1.346,3 -3,3h-42c-1.654,0 -3,-1.346 -3,-3v-21v-1c0,-1.654 1.346,-3 3,-3h10.929c0.336,0 0.646,0.167 0.833,0.446l2.813,4.216c0.556,0.838 1.489,1.338 2.496,1.338h7.857c1.007,0 1.94,-0.5 2.497,-1.337l2.813,-4.218c0.187,-0.278 0.497,-0.445 0.833,-0.445h10.929c1.654,0 3,1.346 3,3v2z" fill="url(#color-2_44005_gr2)"></path><path d="M21,17h24v2h-24z" fill="url(#color-3_44005_gr3)"></path><path d="M44,50h10v2h-10z" fill="url(#color-4_44005_gr4)"></path><path d="M44,46h10v2h-10z" fill="url(#color-5_44005_gr5)"></path><path d="M27,21h10v2h-10z" fill="url(#color-6_44005_gr6)"></path><path d="M29,25h6v2h-6z" fill="url(#color-7_44005_gr7)"></path></g></g>
            </svg> Total ({{site.posts | size}})</span>
          <ul>
              {% for category in site.categories %}
                  {% if category %}
                  <li>
                      <a href="/categories/{{category[0] | slugify}}" class="">{{category[0]}} ({{category[1].size}})</a>
                  </li>
                  {% endif %}
              {% endfor %}
          </ul>
      </li>
  </ul>
  </nav>
    </ul>
  </div>
</div>
